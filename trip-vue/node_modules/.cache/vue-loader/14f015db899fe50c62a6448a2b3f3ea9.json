{"remainingRequest":"D:\\User\\大三下\\校企联合大数据\\trip-main\\trip-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\User\\大三下\\校企联合大数据\\trip-main\\trip-vue\\src\\views\\ChatRecommend\\ChatRecommend.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\User\\大三下\\校企联合大数据\\trip-main\\trip-vue\\src\\views\\ChatRecommend\\ChatRecommend.vue","mtime":1717223649210},{"path":"D:\\User\\大三下\\校企联合大数据\\trip-main\\trip-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1717220318919},{"path":"D:\\User\\大三下\\校企联合大数据\\trip-main\\trip-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1717220319415},{"path":"D:\\User\\大三下\\校企联合大数据\\trip-main\\trip-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1717220318919},{"path":"D:\\User\\大三下\\校企联合大数据\\trip-main\\trip-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1717220309837}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVmlzR3JhcGggZnJvbSAnQC91dGlscy92aXNncmFwaC5taW4uanMnDQppbXBvcnQgTGF5b3V0RmFjdG9yeSBmcm9tICdAL3V0aWxzL3Zpc2dyYXBoLWxheW91dC5taW4uanMnDQppbXBvcnQgZ3JhcGggZnJvbSAndmlld3MvQ2hhdFJlY29tbWVuZC9HcmFwaCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbGlua19uYW1lczpbJ2x5aycsJ3pybCcsJ2d4eScsJ2d6eCcsJ3p6eCddLA0KICAgICAgY2hhdF9jb250ZW50OicnLA0KICAgICAgdmlzR3JhcGggOiBudWxsLA0KICAgICAgZ3JhcGhEYXRhOiAgew0KICAgICAgICBub2RlczpbDQogICAgICAgICAge2lkOicxJyxsYWJlbDon5YiY5aSHJyx0eXBlOifnlLcnLHByb3BlcnRpZXM6e2FnZTo1MH19LA0KICAgICAgICAgIHtpZDonMicsbGFiZWw6J+WFs+e+vScsdHlwZTon55S3J30sDQogICAgICAgICAge2lkOiczJyxsYWJlbDon5byg6aOeJyx0eXBlOifnlLcnfQ0KICAgICAgICBdLA0KICAgICAgICBsaW5rczpbDQogICAgICAgICAge3NvdXJjZTonMScsdGFyZ2V0OicyJyxsYWJlbDon5LqM5byfJyxwcm9wZXJ0aWVzOntvdGhlcjonb3RoZXIgcHJvcCd9fSwNCiAgICAgICAgICB7c291cmNlOicxJyx0YXJnZXQ6JzMnLGxhYmVsOifkuInlvJ8nfQ0KICAgICAgICBdDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgZ3JhcGgNCiAgICAvLyBWaXNHcmFwaCwNCiAgICAvLyBMYXlvdXRGYWN0b3J5DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjaGF0c3VibWl0KCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy5jaGF0X2NvbnRlbnQubGVuZ3RoKTsNCiAgICAgIHZhciB0ZXh0ID0gdGhpcy5jaGF0X2NvbnRlbnQ7DQogICAgICB2YXIgdGV4dDEgPSAnJzsNCiAgICAgIHN3aXRjaCh0ZXh0KSB7DQogICAgICAgIGNhc2UgJ+ivt+mXrum7hOm5pOalvOWcqOWTquS4quWfjuW4gic6DQogICAgICAgICAgdGV4dDEgPSAn5rmW5YyX5q2m5rGJJzticmVhazsNCiAgICAgICAgY2FzZSAn5L2g55+l6YGT6YG/5pqR5bGx5bqE5Zyo5ZOq5ZCXJzoNCiAgICAgICAgICB0ZXh0MSA9ICfmsrPljJfmib/lvrcnO2JyZWFrOw0KICAgICAgICBjYXNlICflj6/ku6XmjqjojZDkuIDkupvmtbfovrnnmoTmma/ngrnlkJcnOg0KICAgICAgICAgIHRleHQxID0gJ+W3tOWOmOWym+OAgeS6mum+mea5vic7YnJlYWs7DQogICAgICAgIGNhc2UgJ+iDveS4jeiDveaOqOiNkOS4gOS6m+Wwj+S8l+S4gOeCueeahOaZr+eCuSc6DQogICAgICAgICAgdGV4dDEgPSBg5Li65oKo5o6o6I2Q55qE57uT5p6c5aaC5LiL77ya6b6Z546J6Zuq5bGx44CB6ZWH6L+c5Y+k5Z+O44CB5b2S5YWD56aF5a+6YDticmVhazsNCiAgICAgICAgY2FzZSAn5q2m5rGJ6YO95pyJ5LuA5LmI54Ot6Zeo5pmv54K5JzoNCiAgICAgICAgICB0ZXh0MSA9IGDkuLrmgqjmjqjojZDnmoTnu5PmnpzlpoLkuIvvvJrpu4TpuaTmpbzjgIHkuJzmuZbnlJ/mgIHlm63ljLrjgIHmuZbljJfnnIHljZrnianppoZgO2JyZWFrOw0KICAgICAgfQ0KICAgICAgdmFyIHBpYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpDQogICAgICB2YXIgcGljMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpDQogICAgICBwaWMuY2xhc3NOYW1lID0gJ3VzZXJfdG91eGlhbmdfcmlnaHQnDQogICAgICBwaWMxLmNsYXNzTmFtZSA9ICd1c2VyX3RvdXhpYW5nX2xlZnQnDQogICAgICB0aGlzLmNoYXRfY29udGVudCA9ICcnOw0KICAgICAgdmFyIHVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfY29udGVudCcpOw0KICAgICAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsNCiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgIHZhciBkaXYxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICBkaXYuY2xhc3NOYW1lID0gImNsZWFyIg0KICAgICAgZGl2MS5jbGFzc05hbWUgPSAiY2xlYXIiDQogICAgICBsaS5jbGFzc05hbWUgPSAiY2hhdF9jb250ZW50X2l0ZW1fcmlnaHQiOw0KICAgICAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7DQogICAgICAvLyBkaXYuaW5uZXJUZXh0PSJkc2EiDQogICAgICANCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB2YXIgbGkxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsNCiAgICAgICAgbGkxLmNsYXNzTmFtZSA9ICJjaGF0X2NvbnRlbnRfaXRlbV9sZWZ0IjsNCiAgICAgICAgdmFyIHNwYW4xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOw0KICAgICAgICBzcGFuMS5pbm5lclRleHQgPSB0ZXh0MTsNCiAgICAgICAgbGkxLmFwcGVuZENoaWxkKGRpdjEpOw0KICAgICAgICBsaTEuYXBwZW5kQ2hpbGQocGljMSk7DQogICAgICAgIGxpMS5hcHBlbmRDaGlsZChzcGFuMSk7DQogICAgICAgIHVsLmFwcGVuZENoaWxkKGxpMSkNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfY29udGVudCcpLnNjcm9sbFRvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X2NvbnRlbnQnKS5zY3JvbGxIZWlnaHQ7DQogICAgICB9LCAyMDApOyAgIA0KICAgICAgdGhpcy5heGlvcy5nZXQoJy9hcGkvcWEnLHsNCiAgICAgICAgcGFyYW1zOnsNCiAgICAgICAgICBxdWVzdGlvbjp0ZXh0DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgIHRoaXMuJHJlZnMuZ3JhLnVwZGF0ZShyZXMuZGF0YSkNCiAgICAgICAgdGV4dDEgPSByZXMuZGF0YS5hbnMNCiAgICAgICAgc3Bhbi5pbm5lclRleHQgPSB0ZXh0Ow0KICAgICAgICBsaS5hcHBlbmRDaGlsZChwaWMpOw0KICAgICAgICBsaS5hcHBlbmRDaGlsZChzcGFuKTsNCiAgICAgICAgbGkuYXBwZW5kQ2hpbGQoZGl2KTsNCiAgICAgICAgdWwuYXBwZW5kQ2hpbGQobGkpDQogICAgICB9KS5jYXRjaCgoZSkgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhlKTsNCiAgICAgIH0pDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIC8vIHRoaXMudmlzR3JhcGggPSBuZXcgVmlzR3JhcGgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyYXBoVmlzJykpOy8v5Yid5aeL5YyW57uY5Zu+5a6i5oi356uvDQogICAgLy8gdGhpcy52aXNHcmFwaC5kcmF3RGF0YSh0aGlzLmdyYXBoRGF0YSk7Ly/nu5jliLblm77lrozmiJANCiAgICAvLyAvL+WumuS5ieiKgueCueeahOWxnuaAp+WPiuagt+W8jw0KICAgIC8vIHZhciBsaW5rID0gew0KICAgIC8vICAgc291cmNlOicyJywNCiAgICAvLyAgIHRhcmdldDonMycsDQogICAgLy8gICBsYWJlbDon5YWE5byfJw0KICAgIC8vIH07DQogICAgLy8gdmFyIGVkZ2UgPSB0aGlzLnZpc0dyYXBoLmFkZEVkZ2UobGluaykNCiAgICAvLyBlZGdlLmxpbmVXaWR0aCA9IDQNCiAgfQ0KfQ0K"},{"version":3,"sources":["ChatRecommend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChatRecommend.vue","sourceRoot":"src/views/ChatRecommend","sourcesContent":["<template>\r\n  <div id=\"chatrecommend\">\r\n    <div id=\"linkman\">\r\n      <graph ref=\"gra\"></graph>\r\n    </div>\r\n    <div id=\"chat_window\">\r\n      <ul id=\"chat_content\">\r\n      </ul>\r\n      <div class=\"chat_input\">\r\n        <textarea @keydown.enter.prevent=\"chatsubmit\" rows=\"6\" v-model=\"chat_content\" class=\"input_chat_text\"></textarea>\r\n        <button  @click=\"chatsubmit\" class=\"chat_text_submit\">发送</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport VisGraph from '@/utils/visgraph.min.js'\r\nimport LayoutFactory from '@/utils/visgraph-layout.min.js'\r\nimport graph from 'views/ChatRecommend/Graph'\r\nexport default {\r\n  data() {\r\n    return {\r\n      link_names:['lyk','zrl','gxy','gzx','zzx'],\r\n      chat_content:'',\r\n      visGraph : null,\r\n      graphData:  {\r\n        nodes:[\r\n          {id:'1',label:'刘备',type:'男',properties:{age:50}},\r\n          {id:'2',label:'关羽',type:'男'},\r\n          {id:'3',label:'张飞',type:'男'}\r\n        ],\r\n        links:[\r\n          {source:'1',target:'2',label:'二弟',properties:{other:'other prop'}},\r\n          {source:'1',target:'3',label:'三弟'}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    graph\r\n    // VisGraph,\r\n    // LayoutFactory\r\n  },\r\n  methods: {\r\n    chatsubmit() {\r\n      console.log(this.chat_content.length);\r\n      var text = this.chat_content;\r\n      var text1 = '';\r\n      switch(text) {\r\n        case '请问黄鹤楼在哪个城市':\r\n          text1 = '湖北武汉';break;\r\n        case '你知道避暑山庄在哪吗':\r\n          text1 = '河北承德';break;\r\n        case '可以推荐一些海边的景点吗':\r\n          text1 = '巴厘岛、亚龙湾';break;\r\n        case '能不能推荐一些小众一点的景点':\r\n          text1 = `为您推荐的结果如下：龙玉雪山、镇远古城、归元禅寺`;break;\r\n        case '武汉都有什么热门景点':\r\n          text1 = `为您推荐的结果如下：黄鹤楼、东湖生态园区、湖北省博物馆`;break;\r\n      }\r\n      var pic = document.createElement('div')\r\n      var pic1 = document.createElement('div')\r\n      pic.className = 'user_touxiang_right'\r\n      pic1.className = 'user_touxiang_left'\r\n      this.chat_content = '';\r\n      var ul = document.getElementById('chat_content');\r\n      var li = document.createElement('li');\r\n      var div = document.createElement('div');\r\n      var div1 = document.createElement('div');\r\n      div.className = \"clear\"\r\n      div1.className = \"clear\"\r\n      li.className = \"chat_content_item_right\";\r\n      var span = document.createElement('span');\r\n      // div.innerText=\"dsa\"\r\n      \r\n      setTimeout(() => {\r\n        var li1 = document.createElement('li');\r\n        li1.className = \"chat_content_item_left\";\r\n        var span1 = document.createElement('span');\r\n        span1.innerText = text1;\r\n        li1.appendChild(div1);\r\n        li1.appendChild(pic1);\r\n        li1.appendChild(span1);\r\n        ul.appendChild(li1)\r\n        document.getElementById('chat_content').scrollTop = document.getElementById('chat_content').scrollHeight;\r\n      }, 200);   \r\n      this.axios.get('/api/qa',{\r\n        params:{\r\n          question:text\r\n        }\r\n      })\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.$refs.gra.update(res.data)\r\n        text1 = res.data.ans\r\n        span.innerText = text;\r\n        li.appendChild(pic);\r\n        li.appendChild(span);\r\n        li.appendChild(div);\r\n        ul.appendChild(li)\r\n      }).catch((e) => {\r\n        console.log(e);\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    // this.visGraph = new VisGraph(document.getElementById('graphVis'));//初始化绘图客户端\r\n    // this.visGraph.drawData(this.graphData);//绘制图完成\r\n    // //定义节点的属性及样式\r\n    // var link = {\r\n    //   source:'2',\r\n    //   target:'3',\r\n    //   label:'兄弟'\r\n    // };\r\n    // var edge = this.visGraph.addEdge(link)\r\n    // edge.lineWidth = 4\r\n  }\r\n}\r\n</script>\r\n<style>\r\n  #chatrecommend {\r\n    width: 100%;\r\n    overflow-x: hidden;\r\n    height: calc(100vh - 70px);\r\n    min-height: 600px;\r\n    background-color: rgb(29, 29, 29);\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n  #linkman {\r\n    flex:5;\r\n    height: calc(100% - 20px);\r\n    \r\n    position: relative;\r\n    border-top: 10px solid #c7c6c6;\r\n    border-bottom: 10px solid #c7c6c6;\r\n    border-left: 3px solid #c7c6c6;\r\n    border-right: 3px solid #c7c6c6;\r\n    border-image: -webkit-linear-gradient(#F80, #2ED) 10 10;\r\n    /* border-image: -moz-linear-gradient(#F80, #2ED) 20 20;\r\n    border-image: -o-linear-gradient(#F80, #2ED) 20 20;\r\n    border-image: linear-gradient(#F80, #2ED) 20 20; */\r\n    /* box-shadow: 2px 2px 3px #60c9f0; */\r\n  }\r\n\r\n  #chat_window {\r\n    flex: 2;\r\n    height: calc(100% - 10px);\r\n    border-top: 10px solid #F80;\r\n    /* background-color: rgb(8, 8, 8); */\r\n    position: relative;\r\n    /* border-top: 2px solid #acabab; */\r\n  }\r\n\r\n  ul#chat_content {\r\n    /* margin: 0 auto; */\r\n    width: 100%;\r\n    height: 75%;\r\n    background-color: rgb(240, 239, 239);\r\n    overflow-y: scroll;\r\n    padding-top: 20px;\r\n  }\r\n  ul#chat_content li {\r\n    /* padding: 5px; */\r\n    margin-bottom: 10px;\r\n    width: 100%;\r\n    /* display: flex; */\r\n    overflow: hidden;\r\n  }\r\n  ul#chat_content li span {\r\n    position: relative;\r\n    background-color: white;\r\n    padding: 5px;\r\n    border-radius: 5px;\r\n  }\r\n  ul#chat_content .chat_content_item_right span{\r\n    margin-left: 10px;\r\n    max-width: 200px;\r\n    background-color: rgb(66, 235, 86);\r\n    float: right;\r\n    margin-right: 10px;\r\n  }\r\n  ul#chat_content .chat_content_item_left span{\r\n    margin-left: 10px;\r\n    max-width: 200px;\r\n    float: left;\r\n  }\r\n  \r\n  .input_chat_text {\r\n    display: block;\r\n    position: absolute;\r\n    border: 1px solid #c9c8c8;\r\n    width: 100%;\r\n    padding: 5px;\r\n    font-size: 19px;\r\n    bottom: 0px;\r\n  }\r\n  .chat_text_submit {\r\n    width: 70px;\r\n    height: 20px;\r\n    line-height: 20px;\r\n    position: absolute;\r\n    right: 5%;\r\n    bottom: 10px;\r\n    /* margin-top: 5px; */\r\n  }\r\n  .user_touxiang_right {\r\n    width: 30px;\r\n    height: 30px;\r\n    float: right;\r\n    margin-right: 15px;\r\n    background: url('~assets/img/ChatRecommend/my_pic.jpg') no-repeat;\r\n    background-size: cover;\r\n  }\r\n  .user_touxiang_left {\r\n    width: 30px;\r\n    height: 30px;\r\n    float: left;\r\n    margin-left: 15px;\r\n    background-color: aqua;\r\n    background: url('~assets/img/ChatRecommend/机器人.png') no-repeat;\r\n    background-size: 100% 100%;\r\n  }\r\n</style>"]}]}